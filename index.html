<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #playerPanel {
            flex: 1;
            padding: 10px;
            background-color: #b3f7ff;
        }

        #map {
            flex: 2;
            height: 100%;
        }
    </style>
    <title>Highway Game</title>
</head>
<body>

<div id="playerPanel">
    <h2>Player Panel</h2>
    <p id="finance">Finance: 500000 Kč</p>
    <p id="currentSection">Aktuální dálniční úsek: D1 Praha-Chodov až Praha-Opatov</p>
    <button onclick="collectToll()">Vybírat Mýtné</button>
    <div id="messages"></div>
</div>

<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
let playerFinance = 500000;
let tollRate = 10; // Mýtné za každý kamion
let trucksPerMinute = 10; // Kamiony za minutu
let currentSection = "D1 Praha-Chodov až Praha-Opatov";

const map = L.map('map').setView([50.03, 14.50], 13);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
}).addTo(map);

function updateFinance() {
    document.getElementById('finance').innerText = `Finance: ${playerFinance} Kč`;
}

function updateCurrentSection() {
    document.getElementById('currentSection').innerText = `Aktuální dálniční úsek: ${currentSection}`;
}

function showMessage(message) {
    const messagesDiv = document.getElementById('messages');
    messagesDiv.innerHTML = `<p>${message}</p>`;
}

function collectToll() {
    setInterval(function() {
        playerFinance += tollRate;
        updateFinance();
    }, 6000); // Každých 6 sekund (pro účely simulace)

    showMessage(`Probíhá výběr mýtného na úseku ${currentSection}.`);
}

</script>

</body>
</html>
