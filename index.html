<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hra s Letadly</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #map {
            flex: 1;
        }

        .sidebar {
            width: 300px;
            background: #f0f0f0;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        .container {
            display: flex;
            height: 100%;
        }

        .header {
            background: #0078d7;
            color: white;
            padding: 10px;
            text-align: center;
        }

        .footer {
            background: #0078d7;
            color: white;
            padding: 10px;
            text-align: center;
        }

        button {
            background: #0078d7;
            color: white;
            border: none;
            padding: 10px;
            margin-top: 10px;
            cursor: pointer;
        }

        button:hover {
            background: #005bb5;
        }

        .money {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .locked {
            background-color: red;
            color: white;
            padding: 5px;
            border-radius: 3px;
        }

        .passenger-list {
            list-style-type: none;
            padding: 0;
        }

        .passenger-item {
            background: #fff;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }

        select {
            margin-bottom: 10px;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Hra s Letadly</h1>
    </div>
    <div class="container">
        <div id="map"></div>
        <div class="sidebar">
            <h2>Ovládání</h2>
            <p id="money" class="money">Peněženka: 100 Kč</p>
            <button onclick="flyPlane()">Poslat Letadlo</button>
            <h3>Seznam pasažérů</h3>
            <ul id="passenger-list" class="passenger-list"></ul>
            <div id="buy-airplane-section">
                <h3>Koupit letadlo</h3>
                <select id="airplane-type">
                    <option value="Mini">Mini letadlo - 4 cestující, dolet 500 km, cena 1000 Kč</option>
                    <option value="Small">Malé letadlo - 30 cestujících, dolet 1200 km, cena 10 000 Kč</option>
                    <option value="Medium">Střední letadlo - 70 cestujících, dolet 2000 km, cena 50 000 Kč</option>
                    <option value="Large">Velké letadlo - 150 cestujících, dolet 5000 km, cena 150 000 Kč</option>
                    <option value="Huge">Velkokapacitní letadlo - 300 cestujících, dolet 15 000 km, cena 500 000 Kč</option>
                </select>
                <button onclick="buyAirplane()">Potvrdit nákup</button>
            </div>
        </div>
    </div>
    <div class="footer">
        &copy; 2024 Hra s Letadly
    </div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map and set its view to Prague
        var map = L.map('map').setView([50.0755, 14.4378], 5);

        // Add the OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Initial money
        var money = 100;

        // Update money display
        function updateMoneyDisplay() {
            document.getElementById('money').textContent = "Peněženka: " + money.toLocaleString() + " Kč";
        }

        // Custom icons for airplanes
        var airplaneIcons = {
            Mini: 'https://i.imgur.com/mini.png',
            Small: 'https://i.imgur.com/small.png',
            Medium: 'https://i.imgur.com/medium.png',
            Large: 'https://i.imgur.com/large.png',
            Huge: 'https://i.imgur.com/huge.png'
        };

        // List of airplanes
        var airplanes = [];

        // Function to add airplane markers to the map
        function addAirplaneMarker(type) {
            var airport = airports.find(a => a.name === "Letiště Václava Havla Praha");
            var iconUrl = airplaneIcons[type];
            var airplaneIcon = L.icon({
                iconUrl: iconUrl,
                iconSize: [32, 32], // size of the icon
                iconAnchor: [16, 16], // point of the icon which will correspond to marker's location
                popupAnchor: [0, -16] // point from which the popup should open relative to the iconAnchor
            });

            var marker = L.marker(airport.coords, { icon: airplaneIcon }).addTo(map);
            airport.airplanes.push({ type: type, marker: marker });
        }

        // Function to buy an airplane
        function buyAirplane() {
            var select = document.getElementById("airplane-type");
            var type = select.value;

            var airplaneSpecs = {
                "Mini": { capacity: 4, range: 500, price: 1000 },
                "Small": { capacity: 30, range: 1200, price: 10000 },
                "Medium": { capacity: 70, range: 2000, price: 50000 },
                "Large": { capacity: 150, range: 5000, price: 150000 },
                "Huge": { capacity: 300, range: 15000, price: 500000 }
            };

            var specs = airplaneSpecs[type];

            if (money >= specs.price) {
                money -= specs.price;
                updateMoneyDisplay();
                addAirplaneMarker(type);
                alert("Nákup proběhl úspěšně! Letadlo typu " + type + " bylo umístěno na Letiště Václava Havla Praha.");
            } else {
                alert("Nemáte dostatek peněz na nákup tohoto typu letadla.");
            }
        }

        // List of airports
        var airports = [
            { name: "Letiště Václava Havla Praha", coords: [50.1008, 14.2632], unlocked: true, passengers: {}, airplanes: [] },
            { name: "Letiště Berlín-Braniborsko", coords: [52.3667, 13.5033], unlocked: false, cost: 50, passengers: {}, airplanes: [] },
            { name: "Letiště Charlese de Gaulla Paříž", coords: [49.0097, 2.5479], unlocked: false, cost: 70, passengers: {}, airplanes: [] },
            { name: "Letiště Schiphol Amsterdam", coords: [52.3105, 4.7683], unlocked: false, cost: 80, passengers: {}, airplanes: [] },
            { name: "Letiště Heathrow Londýn", coords: [51.4700, -0.4543], unlocked: false, cost: 100, passengers: {}, airplanes: [] }
        ];

        // Function to update money display
        function updateMoneyDisplay() {
            document.getElementById('money').textContent = "Peněženka: " + money.toLocaleString() + " Kč";
        }

        // Initial setup
        updateMoneyDisplay();
    </script>
</body>
</html>



